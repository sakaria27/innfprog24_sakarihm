<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Passordgenerator</title>
</head>
<body>
  <h1>Passordgenerator</h1>

  <p>Velg bokstavtype:</p>
  <button id="smabokstaver">små bokstaver</button><br>
  <button id="storebokstaver">store bokstaver</button><br>
  <button id="beggebokstaver">begge</button>

  <p>Vil du ha tall i passordet?</p>
  <button id="tallJa">ja</button><br>
  <button id="tallNei">nei</button>

  <p>Vil du ha symboler i passordet?</p>
  <button id="symbolJa">ja</button><br>
  <button id="symbolNei">nei</button>

  <hr>

  <p>Lengde på passord:</p>
  <input type="number" id="passordLengde" placeholder="skriv lengde">

  <hr>

  <button id="genererBtn">Generer passord</button>

  <p>Ditt passord: <span id="resultat"></span></p>

  <script>
    const tegnsett = {
      sma: "abcdefghijklmnopqrstuvwxyz",
      store: "ABCDEFGHIJKLMNOPQRSTUVWXYZ",
      tall: "0123456789",
      symboler: "!@#$%^&*()_+-=[]{}|;:',.<>?/`~"
    };

    let valg = {
      sma: false,
      store: false,
      tall: false,
      symboler: false
    };

    // Bokstavvalg
    document.getElementById("smabokstaver").onclick = () => {
      valg.sma = true;
      valg.store = false;
    };

    document.getElementById("storebokstaver").onclick = () => {
      valg.store = true;
      valg.sma = false;
    };

    document.getElementById("beggebokstaver").onclick = () => {
      valg.sma = true;
      valg.store = true;
    };

    // Tallvalg
    document.getElementById("tallJa").onclick = () => valg.tall = true;
    document.getElementById("tallNei").onclick = () => valg.tall = false;

    // Symbolvalg
    document.getElementById("symbolJa").onclick = () => valg.symboler = true;
    document.getElementById("symbolNei").onclick = () => valg.symboler = false;

    // Funksjon for å lage passord
    function lagPassord(lengde) {
      let mulige = "";

      if (valg.sma) mulige += tegnsett.sma;
      if (valg.store) mulige += tegnsett.store;
      if (valg.tall) mulige += tegnsett.tall;
      if (valg.symboler) mulige += tegnsett.symboler;

      if (mulige === "") return "Velg minst ett tegnsett!";

      let resultat = "";
      for (let i = 0; i < lengde; i++) {
        let tilfeldigIndex = Math.floor(Math.random() * mulige.length);
        resultat += mulige.charAt(tilfeldigIndex);
      }
      return resultat;
    }

    document.getElementById("genererBtn").onclick = () => {
      const lengde = parseInt(document.getElementById("passordLengde").value);
      if (!lengde || lengde <= 0) {
        document.getElementById("resultat").textContent = "Ugyldig lengde";
        return;
      }
      document.getElementById("resultat").textContent = lagPassord(lengde);
    };
  </script>
</body>
</html>
